<?php
/*   _______________________________________
    |  Dikembangkan oleh - Raden Parhanudin |
    |    Whatsapp: https://6282342788059    |
    |_______________________________________|
*/
 namespace Modules\FormasiMenpan\Http\Controllers; use Illuminate\Http\Request; use Maatwebsite\Excel\Facades\Excel; use Modules\FormasiMenpan\Entities\FmUnitKerja; use Modules\FormasiMenpan\Entities\FmUnitKerjaUsulan; use Modules\FormasiMenpan\Exports\FmUnitKerjaExport; use Modules\FormasiMenpan\services\FmUnitKerjaService; use Yajra\DataTables\Facades\DataTables; class FmUnitKerjaController extends FormasiMenpanController { protected $fmUnitKerjaService; public function __construct(FmUnitKerjaService $fmUnitKerjaService) { $this->fmUnitKerjaService = $fmUnitKerjaService; } public function index() { return view("\146\x6f\162\x6d\x61\x73\151\x6d\x65\156\160\x61\x6e\x3a\x3a\x6f\162\147\x61\x6e\151\163\141\x73\151\x2e\x72\x65\x66\145\x72\145\156\163\x69\x2e\165\x6e\x69\x74\55\153\x65\162\x6a\x61\56\151\156\x64\x65\170"); } public function download(Request $request) { if ($request->ajax()) { $this->fmUnitKerjaService->tarik_data($request); return $this->sendResponse(true, "\104\x6f\x77\x6e\154\157\x61\144\40\x75\156\151\164\40\153\x65\x72\152\141\x20\142\x65\162\x68\141\163\151\154"); } } public function usul_hapus(Request $request, $id) { if ($request->ajax()) { goto L0eZJ; tokqx: return $this->sendResponse(true, "\x55\163\165\154\40\142\x65\162\x68\x61\163\151\x6c\x20\x64\151\164\141\155\x62\x61\x68\153\141\156"); goto aw8lw; IbiNp: FmUnitKerjaUsulan::updateOrCreate(["\x66\155\x5f\x75\156\x69\x74\x5f\153\x65\162\x6a\141\x5f\151\144" => $unit_kerja->id, "\163\164\141\164\x75\163\137\x75\163\x75\x6c\x61\x6e" => "\110\x61\160\165\163"], ["\x66\x6d\x5f\165\156\151\x74\137\153\145\162\x6a\x61\x5f\151\144" => $unit_kerja->id, "\156\x61\155\x61" => $unit_kerja->nama, "\x61\x6c\x61\x6d\141\164" => $unit_kerja->alamat, "\164\145\x6c\x65\x70\157\x6e" => $unit_kerja->telepon, "\x6b\x65\x74\145\162\141\x6e\x67\x61\156" => $unit_kerja->keterangan, "\x73\x74\141\x74\x75\x73\137\165\x73\165\154\x61\156" => "\110\x61\160\165\x73"]); goto tokqx; L0eZJ: $unit_kerja = FmUnitKerja::find($id); goto IbiNp; aw8lw: } } public function usul_ubah(Request $request, $id) { if ($request->ajax()) { goto w37WO; bx4Qe: FmUnitKerjaUsulan::updateOrCreate(["\146\x6d\x5f\x75\156\151\164\137\x6b\145\162\x6a\141\137\151\x64" => $unit_kerja->id, "\163\164\141\164\x75\x73\x5f\165\x73\165\154\x61\x6e" => "\x55\x62\x61\150"], ["\146\x6d\137\x75\156\x69\x74\x5f\x6b\x65\x72\152\x61\137\x69\x64" => $unit_kerja->id, "\156\141\x6d\141" => $unit_kerja->nama, "\x61\x6c\141\155\x61\x74" => $unit_kerja->alamat, "\x74\145\x6c\145\x70\157\x6e" => $unit_kerja->telepon, "\x6b\x65\x74\145\162\141\x6e\x67\141\156" => $unit_kerja->keterangan, "\163\x74\141\x74\165\163\137\x75\x73\x75\x6c\141\x6e" => "\x55\142\141\x68"]); goto OSxBA; w37WO: $unit_kerja = FmUnitKerja::find($id); goto bx4Qe; OSxBA: return $this->sendResponse(true, "\x55\x73\x75\x6c\40\x62\145\162\x68\141\163\x69\x6c\40\x64\x69\164\141\155\142\x61\x68\x6b\141\156"); goto gpKAx; gpKAx: } } public function usul_ubah_status(Request $request, $id) { if ($request->ajax()) { goto AS2y_; Z8vge: FmUnitKerjaUsulan::updateOrCreate(["\x66\x6d\137\165\156\151\x74\x5f\153\x65\162\152\141\x5f\151\x64" => $unit_kerja->id, "\x73\164\141\x74\165\163\137\x75\163\x75\154\141\156" => "\x55\x62\x61\150\40\x53\x74\141\164\x75\163"], ["\146\155\137\x75\x6e\x69\x74\x5f\153\x65\162\152\x61\137\151\144" => $unit_kerja->id, "\x6e\x61\x6d\141" => $unit_kerja->nama, "\x61\x6c\x61\155\141\x74" => $unit_kerja->alamat, "\164\x65\154\x65\160\x6f\x6e" => $unit_kerja->telepon, "\x6b\145\164\x65\x72\141\156\x67\x61\x6e" => $unit_kerja->keterangan, "\163\164\x61\x74\x75\x73\137\x75\163\x75\x6c\141\x6e" => "\x55\x62\x61\x68\x20\123\164\x61\164\165\x73"]); goto Oml1b; AS2y_: $unit_kerja = FmUnitKerja::find($id); goto Z8vge; Oml1b: return $this->sendResponse(true, "\x55\163\165\x6c\x20\142\x65\x72\150\141\163\151\x6c\x20\144\151\x74\x61\155\x62\141\150\153\x61\156"); goto EyI44; EyI44: } } public function export() { return Excel::download(new FmUnitKerjaExport(), "\x46\155\x55\156\x69\x74\x4b\x65\x72\x6a\141\105\170\160\157\162\x74\x2e\170\154\x73\170"); } public function datatable(Request $request) { if ($request->ajax()) { $data = FmUnitKerja::query(); return DataTables::eloquent($data)->editColumn("\x73\164\x61\x74\x75\163", function ($data) { return $data->status ? "\101\153\164\x69\x66" : "\x54\x69\x64\141\x6b\x20\101\x6b\164\151\146"; })->addColumn("\141\x63\164\x69\157\156", function ($data) { return view("\x63\157\155\x70\x6f\x6e\x65\x6e\x74\x73\56\x64\141\164\x61\x74\x61\142\x6c\145\163\x2d\141\143\164\151\x6f\156", ["\x61\x63\x74\151\157\156" => ["\165\x73\x75\x6c\150\141\160\165\x73" => ["\x68\x72\x65\x66" => route("\x66\155\x2d\x6f\162\147\55\162\x65\x66\x65\x72\145\156\x73\151\56\x75\x6e\x69\164\x2d\x6b\x65\x72\x6a\141\56\x75\x73\x75\154\x2d\150\x61\x70\165\163", $data->id), "\163\150\157\167" => 1], "\165\163\165\x6c\x75\x62\x61\150" => ["\x68\162\x65\x66" => route("\146\155\x2d\157\x72\x67\55\x72\x65\x66\145\162\145\x6e\x73\x69\56\x75\156\x69\x74\x2d\x6b\145\162\x6a\x61\x2e\165\x73\x75\154\55\165\142\141\150", $data->id), "\163\x68\x6f\x77" => 1], "\165\x73\165\154\165\x62\141\150\x73\164\141\164\x75\x73" => ["\150\x72\x65\x66" => route("\146\x6d\55\157\x72\147\55\x72\x65\x66\x65\162\145\x6e\163\151\56\165\156\x69\x74\55\x6b\145\162\x6a\x61\x2e\165\x73\x75\154\55\165\x62\x61\150\x2d\x73\x74\141\x74\x75\163", $data->id), "\x73\150\x6f\167" => 1]]]); })->toJson(); } } }
