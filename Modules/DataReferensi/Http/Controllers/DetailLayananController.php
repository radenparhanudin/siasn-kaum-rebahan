<?php
/*   _______________________________________
    |  Dikembangkan oleh - Raden Parhanudin |
    |    Whatsapp: https://6282342788059    |
    |_______________________________________|
*/
 namespace Modules\DataReferensi\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use Modules\DataReferensi\Entities\DetailLayanan; use Yajra\DataTables\Facades\DataTables; class DetailLayananController extends Controller { public function index() { return view("\x64\x61\x74\141\x72\x65\146\x65\x72\145\156\x73\x69\72\72\x64\x65\x74\141\x69\x6c\55\154\x61\x79\141\x6e\x61\156\x2e\151\x6e\x64\x65\x78"); } public function update(Request $request) { if ($request->ajax()) { goto HNtJs; eL4MF: foreach ($response["\162\145\x73\165\154\164\x73"] as $data) { DetailLayanan::updateOrCreate(["\151\x64" => $data["\x69\x64"]], $data); } goto xUIx8; xUIx8: return $this->sendResponse(true, "\125\160\x64\141\164\145\x20\x64\x61\164\141\x20\142\145\x72\x68\x61\x73\151\x6c"); goto lSgcF; HNtJs: $response = $this->getRequest("\163\x69\x61\x73\156\x2d\151\156\163\164\x61\x6e\163\151\57\162\x65\146\x65\x72\145\x6e\163\151\57\144\x65\164\x61\x69\154\55\154\141\x79\141\156\x61\x6e"); goto XQ6NF; XQ6NF: if (!isset($response["\x72\x65\163\x75\154\164\163"])) { return $this->sendResponse(false, $response["\155\145\x73\x73\141\147\x65"]); } goto eL4MF; lSgcF: } } public function datatable(Request $request) { if ($request->ajax()) { $data = DetailLayanan::query()->with("\x6c\x61\171\x61\156\141\x6e", "\163\x75\x62\x5f\x6c\141\171\x61\156\x61\x6e")->select("\x64\x65\164\141\x69\x6c\x5f\x6c\141\x79\x61\156\x61\156\x73\56\x2a"); return DataTables::eloquent($data)->addColumn("\163\165\x62\137\x6c\141\x79\x61\x6e\x61\156", function ($data) { return $data->sub_layanan->sub_layanan ?? ''; })->addColumn("\154\141\x79\x61\x6e\141\156", function ($data) { return $data->layanan->layanan ?? ''; })->toJson(); } } }
