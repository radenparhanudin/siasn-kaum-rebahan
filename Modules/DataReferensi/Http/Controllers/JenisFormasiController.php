<?php
/*   _______________________________________
    |  Dikembangkan oleh - Raden Parhanudin |
    |    Whatsapp: https://6282342788059    |
    |_______________________________________|
*/
 namespace Modules\DataReferensi\Http\Controllers; use App\Http\Controllers\Controller; use Illuminate\Http\Request; use Modules\DataReferensi\Entities\JenisFormasi; use Modules\DataReferensi\Entities\JenisPengadaan; use Yajra\DataTables\Facades\DataTables; class JenisFormasiController extends Controller { public function index() { return view("\144\x61\164\141\x72\x65\x66\x65\x72\145\x6e\163\151\x3a\x3a\x6a\x65\x6e\x69\x73\x2d\x66\x6f\162\x6d\x61\163\151\x2e\151\x6e\144\x65\x78"); } public function update(Request $request) { if ($request->ajax()) { foreach (JenisPengadaan::all() as $jenis_pengadaan) { goto q07yE; TBxLg: if (!isset($response["\162\145\163\165\154\164\x73"])) { return $this->sendResponse(false, $response["\x6d\x65\163\163\141\x67\x65"]); } goto NI70B; NI70B: foreach ($response["\162\145\163\x75\154\x74\163"] as $data) { JenisFormasi::updateOrCreate(["\151\144" => $data["\x69\144"]], $data); } goto xiqTW; q07yE: $response = $this->getRequest("\163\x69\141\163\156\x2d\151\156\163\164\x61\156\163\x69\57\162\145\x66\x65\162\145\x6e\163\x69\x2f\x6a\x65\x6e\x69\163\x2d\146\157\x72\x6d\x61\163\x69\77\152\145\156\x69\x73\137\160\x65\156\x67\141\144\141\141\x6e\x5f\x69\144\75{$jenis_pengadaan->id}"); goto TBxLg; xiqTW: } return $this->sendResponse(true, "\x55\x70\x64\141\164\x65\40\x64\141\x74\x61\x20\x62\145\x72\x68\x61\x73\151\154"); } } public function datatable(Request $request) { if ($request->ajax()) { $data = JenisFormasi::query()->with("\x6a\145\x6e\151\163\137\160\x65\x6e\x67\141\x64\141\141\x6e")->select("\x6a\x65\x6e\151\163\137\x66\157\x72\x6d\141\163\x69\x73\56\52"); return DataTables::eloquent($data)->addColumn("\152\x65\x6e\151\163\x5f\160\145\156\x67\141\x64\x61\x61\156", function ($data) { return $data->jenis_pengadaan->nama ?? ''; })->toJson(); } } }
